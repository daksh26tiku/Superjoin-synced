    # =============================================================================
# Environment Configuration for Sheets-MySQL Sync
# Copy this file to .env and fill in your values
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
API_PREFIX=/api

# -----------------------------------------------------------------------------
# MySQL Database Configuration
# -----------------------------------------------------------------------------
MYSQL_HOST=localhost
MYSQL_PORT=3307
MYSQL_USER=sync_user
MYSQL_PASSWORD=sync_password
MYSQL_DATABASE=sheets_sync
MYSQL_CONNECTION_LIMIT=10
MYSQL_QUEUE_LIMIT=0

# -----------------------------------------------------------------------------
# Redis Configuration (for BullMQ)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# Google Sheets API Configuration
# Get credentials from: https://console.cloud.google.com/apis/credentials
# -----------------------------------------------------------------------------
# Option 1: Service Account (recommended for server-to-server)
GOOGLE_SERVICE_ACCOUNT_PATH=./service-account.json

# Option 2: OAuth2 (for user-delegated access)
GOOGLE_CLIENT_ID=your_client_id_here
GOOGLE_CLIENT_SECRET=your_client_secret_here
GOOGLE_REFRESH_TOKEN=your_refresh_token_here
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/callback

# Option 3: Inline credentials (for containerized deployments)
# GOOGLE_CLIENT_EMAIL=your-service-account@project.iam.gserviceaccount.com
# GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# -----------------------------------------------------------------------------
# Webhook Security
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# -----------------------------------------------------------------------------
WEBHOOK_SECRET=generate_a_secure_random_string_here

# -----------------------------------------------------------------------------
# Sync Configuration
# -----------------------------------------------------------------------------
# Cooldown period (ms) to prevent infinite loops
SYNC_COOLDOWN_MS=5000

# Polling interval (ms) for DB -> Sheet sync
DB_POLL_INTERVAL_MS=5000

# Maximum batch size for Sheet updates
SHEET_BATCH_SIZE=50

# Rate limit: max requests per minute for Google Sheets API
SHEETS_RATE_LIMIT_PER_MIN=55

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=json
